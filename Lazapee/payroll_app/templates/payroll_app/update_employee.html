{% extends 'payroll_app/base.html' %}

{% load static %}
{% block content %}

<!-- Back button -->
<div class="flex items-center mb-4">
    <a class="flex items-center px-3 py-2 rounded-md hover:bg-gray-100 transition duration-75 text-[15px] font-medium text-gray-900"
        href="{% url 'employees' %}">
        <svg class="mr-2" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M6.85355 3.14645C7.04882 3.34171 7.04882 3.65829 6.85355 3.85355L3.70711 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H3.70711L6.85355 11.1464C7.04882 11.3417 7.04882 11.6583 6.85355 11.8536C6.65829 12.0488 6.34171 12.0488 6.14645 11.8536L2.14645 7.85355C1.95118 7.65829 1.95118 7.34171 2.14645 7.14645L6.14645 3.14645C6.34171 2.95118 6.65829 2.95118 6.85355 3.14645Z"
                fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path>
        </svg>
        Back
    </a>
</div>

<!-- Update Employee Card -->
<div class="flex items-center justify-center">
    <div class="w-full max-w-lg rounded-md border border-gray-200 sm:p-6 md:p-8 bg-white">
        <form class="space-y-6" action="{% url 'update_employee' employee.id_number %}" method="POST">
            {% csrf_token %}
            <h2 class="text-xl font-medium">Update Employee Details</h2>

            <!-- Name -->
            <div>
                <label for="name" class="block mb-2 text-sm font-medium text-gray-900">Name</label>
                <input type="text" name="name" id="name"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md block w-full p-2.5"
                    value="{{ employee.name }}" required />
            </div>

            <!-- ID Number -->
            <div>
                <label for="id_number" class="block mb-2 text-sm font-medium text-gray-900">ID Number</label>
                <input type="number" name="id_number" id="id_number"
                    class="bg-gray-100 border border-gray-300 text-gray-400 text-sm rounded-md block w-full p-2.5"
                    value="{{ employee.id_number }}" required disabled />
            </div>
            <!-- Rate -->
            <div>
                <label for="rate" class="block mb-2 text-sm font-medium text-gray-900">Rate</label>
                <input type="number" name="rate" id="rate"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md block w-full p-2.5"
                    value="{{ employee.rate }}" required />
            </div>

            <!-- Allowance -->
            <div>
                <label for="allowance" class="block mb-2 text-sm font-medium text-gray-900">Allowance (Optional)</label>
                <input type="number" name="allowance" id="allowance"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-md block w-full p-2.5"
                    value="{{ employee.allowance }}" />
            </div>

            <button type="submit"
                class="w-full text-white bg-black hover:bg-[#1B1B1B] rounded-md text-sm px-5 py-2.5 text-center">Update
                Employee
            </button>
        </form>
    </div>
</div>

{% endblock %}